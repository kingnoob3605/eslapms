<div class="dashboard-container">
  <!-- Dashboard Header -->
  <div class="dashboard-header">
    <h1>Admin Dashboard</h1>
    <p>Welcome to Sta. Maria Central School - ESLAPMS</p>
  </div>

  <!-- Statistics Cards -->
  <div class="stats-container">
    @for (stat of stats; track stat.title) {
      <div class="stat-card" [ngClass]="stat.class">
        <div class="stat-icon">
          <ng-icon [svg]="stat.icon" size="24"></ng-icon>
        </div>
        <div class="stat-content">
          <div class="stat-count">{{ stat.count }}</div>
          <div class="stat-title">{{ stat.title }}</div>
        </div>
      </div>
    }
  </div>

  <!-- Main Dashboard Content -->
  <div class="grid grid-cols-1 gap-4 lg:grid-cols-3">
    <!-- Quick Actions Section -->
    <div class="lg:col-span-2">
      <div class="dashboard-section">
        <h2 class="section-title">Quick Actions</h2>
        <div class="actions-grid">
          <!-- Student Management -->
          <div (click)="navigateTo('/admin/students')" class="action-card">
            <ng-icon
              [svg]="studentIcon"
              size="32"
              class="text-blue-600"
            ></ng-icon>
            <h3>Students</h3>
            <p>Manage student records</p>
          </div>

          <!-- Teacher Management -->
          <div (click)="navigateTo('/admin/teachers')" class="action-card">
            <ng-icon
              [svg]="teachersIcon"
              size="32"
              class="text-green-600"
            ></ng-icon>
            <h3>Teachers</h3>
            <p>Manage teacher accounts</p>
          </div>

          <!-- Attendance -->
          <div (click)="navigateTo('/admin/attendance')" class="action-card">
            <ng-icon
              [svg]="attendanceIcon"
              size="32"
              class="text-purple-600"
            ></ng-icon>
            <h3>Attendance</h3>
            <p>View & update attendance</p>
          </div>

          <!-- Health Records -->
          <div (click)="navigateTo('/admin/health')" class="action-card">
            <ng-icon
              [svg]="calendarIcon"
              size="32"
              class="text-red-600"
            ></ng-icon>
            <h3>Health Records</h3>
            <p>Manage health data</p>
          </div>

          <!-- Reports -->
          <div (click)="navigateTo('/admin/reports')" class="action-card">
            <ng-icon
              [svg]="analyticsIcon"
              size="32"
              class="text-yellow-600"
            ></ng-icon>
            <h3>Reports</h3>
            <p>Generate DepEd reports</p>
          </div>

          <!-- Parent Portal -->
          <div (click)="navigateTo('/admin/parents')" class="action-card">
            <ng-icon
              [svg]="peopleIcon"
              size="32"
              class="text-orange-600"
            ></ng-icon>
            <h3>Parents</h3>
            <p>Manage parent accounts</p>
          </div>
        </div>
      </div>

      <!-- Attendance Overview Section -->
      <div class="dashboard-section">
        <h2 class="section-title">Today's Attendance Overview</h2>
        <div class="attendance-overview">
          <div class="attendance-stat bg-green-50">
            <h3>Present</h3>
            <p class="text-green-600">{{ totalPresent }}</p>
          </div>
          <div class="attendance-stat bg-red-50">
            <h3>Absent</h3>
            <p class="text-red-600">{{ totalAbsent }}</p>
          </div>
          <div class="attendance-stat bg-blue-50">
            <h3>Attendance Rate</h3>
            <p class="text-blue-600">{{ attendanceRate }}%</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Recent Activities Section -->
    <div class="lg:col-span-1">
      <div class="dashboard-section h-full">
        <div class="mb-4 flex items-center justify-between">
          <h2 class="section-title">Recent Activities</h2>
          <ng-icon
            [svg]="notificationIcon"
            size="24"
            class="text-gray-500"
          ></ng-icon>
        </div>

        <div class="activities-list">
          @for (activity of recentActivities; track activity.id) {
            <div class="activity-item">
              <div class="activity-header">
                <h3 class="activity-title">{{ activity.title }}</h3>
                <span class="activity-time">{{ activity.time }}</span>
              </div>
              <p class="activity-description">{{ activity.description }}</p>

              <!-- Activity type badge -->
              @switch (activity.type) {
                @case ("enrollment") {
                  <span class="badge badge-enrollment">Enrollment</span>
                }
                @case ("attendance") {
                  <span class="badge badge-attendance">Attendance</span>
                }
                @case ("health") {
                  <span class="badge badge-health">Health</span>
                }
                @case ("system") {
                  <span class="badge badge-system">System</span>
                }
              }
            </div>
          }
        </div>

        <button class="view-all-button">View All Activities</button>
      </div>
    </div>
  </div>
</div>
